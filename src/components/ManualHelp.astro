---
import Modal from "@/components/ui/Modal.astro";
import KeyboardShortcut from "@/components/ui/KeyboardShortcut.astro";
import Alert from "@/components/ui/Alert.astro";
import Button from "@/components/ui/Button.astro";
---

<Modal id="navigationHelpModal" title="Navigation Tips" size="lg">
  <div class="space-y-4">
    <p class="text-gray-300">
      Use these shortcuts to navigate through the documentation faster:
    </p>

    <div class="space-y-3">
      <KeyboardShortcut
        icon="nf nf-md-arrow_left"
        label="Previous Page"
        description="Use the left arrow to go to the previous page"
      />

      <KeyboardShortcut
        icon="nf nf-md-arrow_right"
        label="Next Page"
        description="Use the right arrow to go to the next page"
      />

      <KeyboardShortcut
        icon="nf nf-md-menu"
        label="Sidebar (Ctrl + Alt + M)"
        description="Open or close the sidebar with the table of contents"
      />

      <KeyboardShortcut
        icon="nf nf-md-keyboard_esc"
        label="Close (Esc)"
        description="Press Esc to close the sidebar or this modal"
      />
    </div>

    <Alert variant="info" title="Tip">
      The sidebar closes automatically when you click outside of it or navigate
      to another page.
    </Alert>
  </div>

  <div class="mt-6 flex justify-end">
    <Button data-modal-close variant="primary" size="md" class="cursor-pointer">
      Got it!
    </Button>
  </div>
</Modal>

<button
  id="openNavigationHelp"
  class="fixed right-[0.25rem] z-50 hidden h-[40px] w-[40px] cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-[#89b29e]/30 bg-[#2a252a] p-0 shadow-lg transition-all duration-300 hover:scale-105 hover:border-[#89b29e] hover:bg-[#89b29e]/10 hover:shadow-xl md:right-[1.25rem] md:bottom-[1.25rem] md:flex"
  aria-label="Navigation tips"
  title="Navigation tips"
>
  <i class="nf nf-md-help_circle text-xl text-[#89b29e]" aria-hidden="true"></i>
</button>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const helpButton = document.getElementById("openNavigationHelp");
    if (helpButton) {
      helpButton.addEventListener("click", () => {
        if (window.openNavigationHelpModal) {
          window.openNavigationHelpModal();
        }
      });
    }
  });
</script>
